<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ðŸŒŠ WordFlow</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#7c3aed; --muted:#98a0b3;
      color-scheme:dark;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,#071028 0%, #0f1724 100%); color:#e7eef8;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding:24px;
    }

    .wrap{
      width:720px; max-width:94vw; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:14px; padding:22px; box-shadow:0 20px 60px rgba(2,6,23,0.6);
    }

    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{margin:0;font-size:20px}
    .small{color:var(--muted); font-size:13px}

    .card{background:rgba(255,255,255,0.03); padding:18px; border-radius:12px; margin-top:16px; border:1px solid rgba(255,255,255,0.03)}

    .word{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
    .word .txt{
      font-size:36px;font-weight:800;letter-spacing:0.6px;
    }
    .meta{color:var(--muted); font-weight:700}

    .controls{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    button{
      background:linear-gradient(90deg,var(--accent),#4f46e5); color:white;border:none;padding:10px 14px;border-radius:10px;
      cursor:pointer;font-weight:700;
    }
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04); color:var(--muted); font-weight:700}
    .btn-ghost:hover{transform:translateY(-2px)}

    .info{margin-top:12px;color:var(--muted);font-size:15px;line-height:1.5}
    .example{margin-top:8px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;font-style:italic;color:#dfe9ff}

    .favorites{margin-top:16px; display:flex; gap:8px; flex-wrap:wrap}
    .pill{background:rgba(255,255,255,0.03); padding:8px 10px;border-radius:999px; font-weight:700; font-size:13px; display:flex; gap:8px; align-items:center}
    .pill button{background:transparent;border:none;color:var(--muted);cursor:pointer;font-weight:700}

    footer{display:flex;justify-content:space-between;align-items:center;margin-top:18px;color:var(--muted);font-size:13px}
    .center{display:flex;gap:8px;align-items:center}

    @media (max-width:520px){
      .word .txt{font-size:28px}
      .wrap{padding:14px}
      button{padding:8px 10px}
    }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div>
        <h1>ðŸŒŠ WordFlow</h1>
        <div class="small">Kelime Ã¶ÄŸren. Dinle. Favori ekle.</div>
      </div>
      <div class="small" id="timeHint"></div>
    </header>

    <div class="card" aria-live="polite">
      <div class="word">
        <div>
          <div class="txt" id="wordText">â€”</div>
          <div class="meta" id="phonetic">/ â€” / Â· <span id="pos">â€”</span></div>
        </div>

        <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
          <button id="playBtn" title="Sesli okuma">ðŸ”Š Dinle</button>
          <button id="favBtn" class="btn-ghost" title="Favorilere ekle">â˜† Favori</button>
        </div>
      </div>

      <div class="info" id="definition">Kelime ve tanÄ±m burada gÃ¶rÃ¼necek.</div>
      <div class="example" id="example">Ã–rnek cÃ¼mle burada.</div>

      <div class="controls">
        <button id="newBtn">Yeni Kelime</button>
        <button id="autoBtn" class="btn-ghost">Otomatik (3s)</button>
        <button id="clearFavs" class="btn-ghost">Favorileri Temizle</button>
      </div>

      <div style="margin-top:12px;">
        <div class="small">Favoriler</div>
        <div class="favorites" id="favoritesList" aria-live="polite"></div>
      </div>
    </div>

    <footer>
      <div class="small">Not: Bu kÃ¼Ã§Ã¼k dahili listeden rastgele seÃ§er â€” Ã§evrimdÄ±ÅŸÄ± Ã§alÄ±ÅŸÄ±r.</div>
      <div class="center"><button id="downloadBtn" class="btn-ghost">Favorileri Ä°ndir</button></div>
    </footer>
  </div>

  <script>
    // ---- kÃ¼Ã§Ã¼k kelime veritabanÄ± (dilediÄŸin kadar ekle) ----
    const WORDS = [
  {w:"improve", p:"/ÉªmËˆpruËv/", pos:"verb", def:"geliÅŸtirmek", ex:"She wants to improve her English skills."},
  {w:"opportunity", p:"/ËŒÉ’pÉ™rËˆtjuËnÉªti/", pos:"noun", def:"fÄ±rsat", ex:"This is a great opportunity to travel."},
  {w:"although", p:"/É”ËlËˆÃ°oÊŠ/", pos:"conj", def:"olsa da", ex:"Although it was raining, we went out."},
  {w:"suggest", p:"/sÉ™ËˆdÊ’É›st/", pos:"verb", def:"Ã¶nermek", ex:"I suggest taking a short break."},
  {w:"responsible", p:"/rÉªËˆspÉ’nsÉ™bl/", pos:"adj", def:"sorumlu", ex:"He is responsible for the project."},
  {w:"pattern", p:"/ËˆpÃ¦tÉ™rn/", pos:"noun", def:"desen", ex:"The wallpaper has a floral pattern."},
  {w:"continue", p:"/kÉ™nËˆtÉªnjuË/", pos:"verb", def:"devam etmek", ex:"We will continue our work tomorrow."},
  {w:"develop", p:"/dÉªËˆvÉ›lÉ™p/", pos:"verb", def:"geliÅŸtirmek", ex:"She hopes to develop new skills."},
  {w:"survive", p:"/sÉ™rËˆvaÉªv/", pos:"verb", def:"hayatta kalmak", ex:"The plants survive in harsh conditions."},
  {w:"behave", p:"/bÉªËˆheÉªv/", pos:"verb", def:"davranmak", ex:"Children should behave in class."},
  {w:"research", p:"/rÉªËˆsÉœËrtÊƒ/", pos:"noun", def:"araÅŸtÄ±rma", ex:"She is conducting research on climate change."},
  {w:"avoid", p:"/É™ËˆvÉ”Éªd/", pos:"verb", def:"kaÃ§Ä±nmak", ex:"Try to avoid making mistakes."},
  {w:"prepare", p:"/prÉªËˆpÉ›É™r/", pos:"verb", def:"hazÄ±rlamak", ex:"We need to prepare for the meeting."},
  {w:"compare", p:"/kÉ™mËˆpÉ›É™r/", pos:"verb", def:"karÅŸÄ±laÅŸtÄ±rmak", ex:"Compare the two products before buying."},
  {w:"attract", p:"/É™ËˆtrÃ¦kt/", pos:"verb", def:"Ã§ekmek", ex:"The park attracts many tourists."},
  {w:"achieve", p:"/É™ËˆtÊƒiËv/", pos:"verb", def:"baÅŸarmak", ex:"She wants to achieve her dreams."},
  {w:"concern", p:"/kÉ™nËˆsÉœËrn/", pos:"noun", def:"endiÅŸe, ilgi", ex:"Health is a major concern."},
  {w:"reduce", p:"/rÉªËˆdjuËs/", pos:"verb", def:"azaltmak", ex:"We should reduce waste."},
  {w:"community", p:"/kÉ™ËˆmjuËnÉªti/", pos:"noun", def:"topluluk", ex:"The community organized a clean-up."},
  {w:"include", p:"/ÉªnËˆkluËd/", pos:"verb", def:"dahil etmek", ex:"Please include your email address."},
  {w:"agree", p:"/É™ËˆÉ¡riË/", pos:"verb", def:"katÄ±lmak", ex:"I agree with your idea."},
  {w:"decide", p:"/dÉªËˆsaÉªd/", pos:"verb", def:"karar vermek", ex:"She will decide tomorrow."},
  {w:"wonder", p:"/ËˆwÊŒndÉ™r/", pos:"verb", def:"merak etmek", ex:"I wonder what will happen next."},
  {w:"effective", p:"/ÉªËˆfÉ›ktÉªv/", pos:"adj", def:"etkili", ex:"Exercise is an effective way to reduce stress."},
  {w:"instead", p:"/ÉªnËˆstÉ›d/", pos:"adv", def:"yerine", ex:"He chose tea instead of coffee."},
  {w:"increase", p:"/ÉªnËˆkriËs/", pos:"verb", def:"arttÄ±rmak", ex:"We need to increase production."},
  {w:"discover", p:"/dÉªËˆskÊŒvÉ™r/", pos:"verb", def:"keÅŸfetmek", ex:"Scientists discover new planets."},
  {w:"depend", p:"/dÉªËˆpÉ›nd/", pos:"verb", def:"baÄŸlÄ± olmak", ex:"You can depend on me."},
  {w:"involve", p:"/ÉªnËˆvÉ’lv/", pos:"verb", def:"iÃ§ermek, dahil etmek", ex:"This project will involve everyone."},
  {w:"available", p:"/É™ËˆveÉªlÉ™bl/", pos:"adj", def:"mevcut", ex:"The book is available online."},
  {w:"encourage", p:"/ÉªnËˆkÊŒrÉªdÊ’/", pos:"verb", def:"cesaretlendirmek", ex:"Teachers encourage students to read."},
  {w:"determine", p:"/dÉªËˆtÉœËrmÉªn/", pos:"verb", def:"belirlemek", ex:"We need to determine the cause."},
  {w:"consider", p:"/kÉ™nËˆsÉªdÉ™r/", pos:"verb", def:"dÃ¼ÅŸÃ¼nmek", ex:"Consider all options before choosing."},
  {w:"choice", p:"/Ê§É”Éªs/", pos:"noun", def:"seÃ§im", ex:"You have a difficult choice."},
  {w:"support", p:"/sÉ™ËˆpÉ”Ërt/", pos:"verb", def:"desteklemek", ex:"We support our local businesses."},
  {w:"mention", p:"/ËˆmÉ›nÊƒÉ™n/", pos:"verb", def:"bahsetmek", ex:"He mentioned the problem in the meeting."},
  {w:"manage", p:"/ËˆmÃ¦nÉªdÊ’/", pos:"verb", def:"yÃ¶netmek", ex:"She manages the team efficiently."},
  {w:"organize", p:"/ËˆÉ”ËrÉ¡É™naÉªz/", pos:"verb", def:"dÃ¼zenlemek", ex:"We need to organize the files."},
  {w:"require", p:"/rÉªËˆkwaÉªÉ™r/", pos:"verb", def:"gerektirmek", ex:"This task will require focus."},
  {w:"particular", p:"/pÉ™rËˆtÉªkjÉ™lÉ™r/", pos:"adj", def:"belirli", ex:"He has a particular interest in music."},
  {w:"necessary", p:"/ËˆnÉ›sÉ™sÉ™ri/", pos:"adj", def:"gerekli", ex:"It is necessary to study regularly."},
  {w:"happen", p:"/ËˆhÃ¦pÉ™n/", pos:"verb", def:"olmak", ex:"Accidents happen all the time."},
  {w:"separate", p:"/ËˆsÉ›pÉ™reÉªt/", pos:"verb", def:"ayÄ±rmak", ex:"Separate the documents into folders."},
  {w:"contain", p:"/kÉ™nËˆteÉªn/", pos:"verb", def:"iÃ§ermek", ex:"The box contains books."},
  {w:"imagine", p:"/ÉªËˆmÃ¦dÊ’Éªn/", pos:"verb", def:"hayal etmek", ex:"Imagine a world without war."},
  {w:"approach", p:"/É™ËˆproÊŠÊ§/", pos:"verb", def:"yaklaÅŸmak", ex:"She will approach the topic carefully."},
  {w:"prevent", p:"/prÉªËˆvÉ›nt/", pos:"verb", def:"Ã¶nlemek", ex:"Vaccines prevent diseases."},
  {w:"argue", p:"/ËˆÉ‘ËrÉ¡juË/", pos:"verb", def:"tartÄ±ÅŸmak", ex:"They argue about politics."},
  {w:"protect", p:"/prÉ™ËˆtÉ›kt/", pos:"verb", def:"korumak", ex:"Use sunscreen to protect your skin."},
  {w:"represent", p:"/ËŒrÉ›prÉªËˆzÉ›nt/", pos:"verb", def:"temsil etmek", ex:"The flag represents the country."},
  {w:"explain", p:"/ÉªkËˆspleÉªn/", pos:"verb", def:"aÃ§Ä±klamak", ex:"She will explain the procedure."},
  {w:"choose", p:"/Ê§uËz/", pos:"verb", def:"seÃ§mek", ex:"Choose the best option."},
  {w:"recognize", p:"/ËˆrÉ›kÉ™É¡naÉªz/", pos:"verb", def:"tanÄ±mak", ex:"I recognize her from school."},
  {w:"introduce", p:"/ËŒÉªntrÉ™ËˆdjuËs/", pos:"verb", def:"tanÄ±tmak", ex:"Allow me to introduce my friend."},
  {w:"maintain", p:"/meÉªnËˆteÉªn/", pos:"verb", def:"sÃ¼rdÃ¼rmek", ex:"Maintain a healthy lifestyle."},
  {w:"allow", p:"/É™ËˆlaÊŠ/", pos:"verb", def:"izin vermek", ex:"Parents allow children to play outside."},
  {w:"provide", p:"/prÉ™ËˆvaÉªd/", pos:"verb", def:"saÄŸlamak", ex:"The school provides free lunches."},
  {w:"practice", p:"/ËˆprÃ¦ktÉªs/", pos:"verb", def:"pratik yapmak", ex:"Practice your English every day."},
  {w:"solution", p:"/sÉ™ËˆluËÊƒÉ™n/", pos:"noun", def:"Ã§Ã¶zÃ¼m", ex:"We need a solution quickly."},
  {w:"remain", p:"/rÉªËˆmeÉªn/", pos:"verb", def:"kalmak", ex:"Please remain seated."}
];




    // ---- state ----
    let current = null;
    let autoInterval = null;
    const favoritesKey = "random_word_favs_v1";

    // ---- elements ----
    const wordText = document.getElementById("wordText");
    const phonetic = document.getElementById("phonetic");
    const posEl = document.getElementById("pos");
    const definition = document.getElementById("definition");
    const example = document.getElementById("example");
    const newBtn = document.getElementById("newBtn");
    const playBtn = document.getElementById("playBtn");
    const favBtn = document.getElementById("favBtn");
    const favoritesList = document.getElementById("favoritesList");
    const autoBtn = document.getElementById("autoBtn");
    const clearFavs = document.getElementById("clearFavs");
    const downloadBtn = document.getElementById("downloadBtn");
    const timeHint = document.getElementById("timeHint");

    // ---- helpers ----
    function randInt(max){ return Math.floor(Math.random()*max); }

    function pickRandom(){
      const idx = randInt(WORDS.length);
      return WORDS[idx];
    }

    function renderWord(obj){
      current = obj;
      wordText.textContent = obj.w;
      phonetic.textContent = `${obj.p} Â·`;
      posEl.textContent = obj.pos;
      definition.textContent = obj.def;
      example.textContent = obj.ex;
      // favori buton gÃ¼ncelle
      const favs = getFavs();
      favBtn.textContent = favs.some(f=> f.w === obj.w ) ? "â˜… Favori" : "â˜† Favori";
    }

    function speak(text){
      if(!("speechSynthesis" in window)){
        alert("TarayÄ±cÄ±nÄ±z sesli okuma desteklemiyor.");
        return;
      }
      const msg = new SpeechSynthesisUtterance(text);
      msg.lang = "en-GB";
      // tercih: kelimeyi daha vurgulu oku
      msg.rate = 0.95;
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(msg);
    }

    // ---- favorites (localStorage) ----
    function getFavs(){
      try{
        const raw = localStorage.getItem(favoritesKey);
        return raw ? JSON.parse(raw) : [];
      }catch(e){
        return [];
      }
    }
    function saveFavs(arr){
      localStorage.setItem(favoritesKey, JSON.stringify(arr));
      renderFavs();
    }
    function toggleFav(){
      if(!current) return;
      const arr = getFavs();
      const idx = arr.findIndex(f=> f.w === current.w);
      if(idx >= 0){ arr.splice(idx,1); } else { arr.unshift(current); }
      saveFavs(arr);
      favBtn.textContent = arr.find(f=> f.w === current.w) ? "â˜… Favori" : "â˜† Favori";
    }

    function renderFavs(){
      const arr = getFavs();
      favoritesList.innerHTML = "";
      if(arr.length === 0){
        favoritesList.innerHTML = `<div class="small" style="color:var(--muted)">HenÃ¼z favoriniz yok â€” eklemek iÃ§in â˜† Favori'ye tÄ±kla.</div>`;
        return;
      }
      arr.forEach(item => {
        const el = document.createElement("div");
        el.className = "pill";
        el.innerHTML = `<span>${item.w} <small style="margin-left:6px;color:var(--muted);font-weight:600">(${item.pos})</small></span>`;
        const btn = document.createElement("button");
        btn.title = "KaldÄ±r";
        btn.innerText = "âœ•";
        btn.addEventListener("click", ()=> {
          const arr2 = getFavs().filter(f=> f.w !== item.w);
          saveFavs(arr2);
        });
        el.appendChild(btn);
        el.addEventListener("click", () => {
          renderWord(item);
          speak(item.w);
        });
        favoritesList.appendChild(el);
      });
    }

    // ---- actions ----
    newBtn.addEventListener("click", () => {
      const r = pickRandom();
      renderWord(r);
    });

    playBtn.addEventListener("click", ()=> {
      if(current) speak(current.w);
    });

    favBtn.addEventListener("click", ()=> toggleFav());

    autoBtn.addEventListener("click", ()=>{
      if(autoInterval){
        clearInterval(autoInterval);
        autoInterval = null;
        autoBtn.textContent = "Otomatik (3s)";
        autoBtn.classList.add("btn-ghost");
      } else {
        autoInterval = setInterval(()=> {
          const r = pickRandom(); renderWord(r);
        }, 3000);
        autoBtn.textContent = "Durdur";
        autoBtn.classList.remove("btn-ghost");
      }
    });

    clearFavs.addEventListener("click", ()=> {
      if(confirm("Favorileri silmek istediÄŸine emin misin?")){
        saveFavs([]);
      }
    });

    downloadBtn.addEventListener("click", ()=>{
      const arr = getFavs();
      if(arr.length === 0){ alert("Ä°ndirilecek favori yok."); return; }
      const blob = new Blob([JSON.stringify(arr, null, 2)], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "favorites_words.json";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // ---- init ----
    function init(){
      renderFavs();
      // ilk gÃ¶sterim
      const first = pickRandom();
      renderWord(first);

      // saate gÃ¶re kÄ±sa ipucu (sabah/Ã¶ÄŸlen/akÅŸam)
      const h = new Date().getHours();
      const hint = h < 12 ? "Good morning â€” learn a word!" : (h < 18 ? "Good afternoon â€” learn a word!" : "Good evening â€” learn a word!");
      timeHint.textContent = hint;
    }

    init();
  </script>
</body>
</html>
